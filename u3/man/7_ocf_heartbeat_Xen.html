<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Fri Nov 18 04:29:35 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OCF_HEARTBEAT_XEN(7) OCF resource agents
OCF_HEARTBEAT_XEN(7)</p>

<p>NAME ocf_heartbeat_Xen - Manages Xen unprivileged
domains (DomUs)</p>

<p>SYNOPSIS Xen [start | stop | monitor | migrate_to |
migrate_from | meta-data | validate-all]</p>

<p>DESCRIPTION Resource Agent for the Xen Hypervisor.
Manages Xen virtual machine instances by mapping cluster
resource start and stop, to Xen create and shutdown,
respectively.</p>

<p>A note on names</p>

<p>We will try to extract the name from the config file
(the xmfile attribute). If you use a simple assignment
statement, then you should be fine. Otherwise, if
there&acute;s some python acrobacy involved such as
dynamically assigning names depending on other variables,
and we will try to detect this, then please set the name
attribute. You should also do that if there is any chance of
a pathological situation where a config file might be
missing, for example if it resides on a shared storage. If
all fails, we finally fall back to the instance id to
preserve backward compatibility.</p>

<p>Para-virtualized guests can also be migrated by enabling
the meta_attribute allow-migrate.</p>

<p>SUPPORTED PARAMETERS xmfile Absolute path to the Xen
control file, for this virtual machine. (required, string,
no default)</p>

<p>name Name of the virtual machine. (optional, string, no
default)</p>

<p>shutdown_timeout The Xen agent will first try an orderly
shutdown using xm shutdown. Should this not succeed within
this timeout, the agent will escalate to xm destroy,
forcibly killing the node. .sp If this is not set, it will
default to two-third of the stop action timeout. .sp Setting
this value to 0 forces an immediate destroy. .sp</p>

<p>(optional, string, no default)</p>

<p>allow_mem_management This parameter enables dynamic
adjustment of memory for start and stop actions used for
Dom0 and the DomUs. The default is to not adjust memory
dynamically. (optional, boolean, default 0)</p>

<p>node_ip_attribute In case of a live migration, the
system will default to using the IP address associated with
the hostname via DNS or /etc/hosts. .sp This parameter
allows you to specify a node attribute that will be queried
instead for the target node, overriding the IP address. This
allows you to use a dedicated network for live migration
traffic to a specific node. .sp Warning: make very sure the
IP address does point to the right node. Or else the live
migration will end up somewhere else, greatly confusing the
cluster and causing havoc. (optional, string, no
default)</p>

<p>reserved_Dom0_memory In case memory management is used,
this parameter defines the minimum amount of memory to be
reserved for the dom0. The default minimum memory is 512MB.
(optional, string, default 512)</p>

<p>monitor_scripts To additionally monitor services within
the unprivileged domain, add this parameter with a list of
scripts to monitor. (optional, string, no default)</p>

<p>SUPPORTED ACTIONS This resource agent supports the
following actions (operations):</p>

<p>start Starts the resource. Suggested minimum timeout:
60.</p>

<p>stop Stops the resource. Suggested minimum timeout:
40.</p>

<p>migrate_from Executes steps necessary for migrating the
resource away from the node. Suggested minimum timeout:
120.</p>

<p>migrate_to Executes steps necessary for migrating the
resource to the node. Suggested minimum timeout: 120.</p>

<p>monitor Performs a detailed status check. Suggested
minimum timeout: 30. Suggested interval: 10.</p>

<p>meta-data Retrieves resource agent metadata (internal
use only). Suggested minimum timeout: 5.</p>

<p>validate-all Performs a validation of the resource
configuration. Suggested minimum timeout: 5.</p>

<p>EXAMPLE The following is an example configuration for a
Xen resource using the crm(8) shell:</p>

<p>primitive p_Xen ocf:heartbeat:Xen params xmfile=string
meta allow-migrate=&quot;true&quot; op monitor
depth=&quot;0&quot; timeout=&quot;30&quot;
interval=&quot;10&quot;</p>

<p>SEE ALSO
http://www.linux-ha.org/wiki/Xen_(resource_agent)</p>

<p>AUTHOR Linux-HA contributors (see the resource agent
source for information about individual authors)</p>

<p>resource-agents 3.9.2 04/30/2012
OCF_HEARTBEAT_XEN(7)</p>
<hr>
</body>
</html>
