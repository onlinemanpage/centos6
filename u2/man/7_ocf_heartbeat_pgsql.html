<!-- Creator     : groff version 1.18.1.4 -->
<!-- CreationDate: Fri Nov 18 05:08:45 2016 -->
<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>

<p>OCF_HEARTBEAT_PGSQL(7) OCF resource agents
OCF_HEARTBEAT_PGSQL(7)</p>

<p>NAME ocf_heartbeat_pgsql - Manages a PostgreSQL database
instance</p>

<p>SYNOPSIS pgsql [start | stop | status | monitor |
meta-data | validate-all]</p>

<p>DESCRIPTION Resource script for PostgreSQL. It manages a
PostgreSQL as an HA resource.</p>

<p>SUPPORTED PARAMETERS pgctl Path to pg_ctl command.
(optional, string, default /usr/bin/pg_ctl)</p>

<p>start_opt Start options (-o start_opt in pg_ctl).
&quot;-i -p 5432&quot; for example. (optional, string, no
default)</p>

<p>ctl_opt Additional pg_ctl options (-w, -W etc..).
(optional, string, no default)</p>

<p>psql Path to psql command. (optional, string, default
/usr/bin/psql)</p>

<p>pgdata Path to PostgreSQL data directory. (optional,
string, default /var/lib/pgsql/data)</p>

<p>pgdba User that owns PostgreSQL. (optional, string,
default postgres)</p>

<p>pghost Hostname/IP address where PostgreSQL is listening
(optional, string, no default)</p>

<p>pgport Port where PostgreSQL is listening (optional,
integer, default 5432)</p>

<p>monitor_user PostgreSQL user that pgsql RA will user for
monitor operations. If it&acute;s not set pgdba user will be
used. (optional, string, no default)</p>

<p>monitor_password Password for monitor user. (optional,
string, no default)</p>

<p>monitor_sql SQL script that will be used for monitor
operations. (optional, string, default select now();)</p>

<p>config Path to the PostgreSQL configuration file for the
instance (optional, integer, no default)</p>

<p>pgdb Database that will be used for monitoring.
(optional, string, default template1)</p>

<p>logfile Path to PostgreSQL server log output file.
(optional, string, default /dev/null)</p>

<p>socketdir Unix socket directory for PostgeSQL (optional,
string, no default)</p>

<p>stop_escalate Number of shutdown retries (using -m fast)
before resorting to -m immediate (optional, integer, no
default)</p>

<p>SUPPORTED ACTIONS This resource agent supports the
following actions (operations):</p>

<p>start Starts the resource. Suggested minimum timeout:
120.</p>

<p>stop Stops the resource. Suggested minimum timeout:
120.</p>

<p>status Performs a status check. Suggested minimum
timeout: 60.</p>

<p>monitor Performs a detailed status check. Suggested
minimum timeout: 30. Suggested interval: 30.</p>

<p>meta-data Retrieves resource agent metadata (internal
use only). Suggested minimum timeout: 5.</p>

<p>validate-all Performs a validation of the resource
configuration. Suggested minimum timeout: 5.</p>

<p>methods Suggested minimum timeout: 5.</p>

<p>EXAMPLE The following is an example configuration for a
pgsql resource using the crm(8) shell:</p>

<p>primitive p_pgsql ocf:heartbeat:pgsql op monitor
depth=&quot;0&quot; timeout=&quot;30&quot;
interval=&quot;30&quot;</p>

<p>SEE ALSO
http://www.linux-ha.org/wiki/pgsql_(resource_agent)</p>

<p>AUTHOR Linux-HA contributors (see the resource agent
source for information about individual authors)</p>

<p>resource-agents 3.9.2 10/18/2011
OCF_HEARTBEAT_PGSQL(7)</p>
<hr>
</body>
</html>
